@extends('layouts.app')

@section('title', 'Homepage')

@section('content')

    {{-- Hero Section --}}
    <section class="hero-section bg-no-repeat bg-cover bg-center h-screen relative" {{--
        style="background-image: url('{{ asset('assets/img/hero-bg1.png') }}');" --}}>
        <div class="video-background">
            <iframe
                src="https://www.youtube.com/embed/4IiPxPXpSPk?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&loop=1&playlist=4IiPxPXpSPk&modestbranding=1"
                frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
        <div class="container mx-auto">
            <div class="flex flex-col items-center justify-center gap-4 h-screen">
                <div class="max-w-[692px] space-y-8">
                    <h1 class="text-white text-2xl md:text-4xl font-bold text-center md:leading-[52px]">Premium mobile car
                        detailing. <br />
                        Perfection delivered to your door.</h1>
                    <div class="flex justify-center gap-3">
                        <a href="#" class="btn-brand" onclick="openHeroModal()"><span>Book Now</span>
                            <svg width="25" height="11" viewBox="0 0 25 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 5.5H1M24 5.5L19.5 1M24 5.5L19.5 10" stroke="white" stroke-width="1.5"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </a>
                        <a href="#" class="btn-outline"><span>Our Services</span>
                            <svg width="25" height="11" viewBox="0 0 25 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 5.5H1M24 5.5L19.5 1M24 5.5L19.5 10" stroke="white" stroke-width="1.5"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="fixed top-[50%] -translate-y-[50%] left-10 md:right-10 md:left-auto z-100">
                    <nav class="flex flex-col gap-2">
                        <a href="#" class="w-10 h-10 flex items-center justify-center bg-[#10C379] rounded-full">
                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.2669 4.69774C16.4518 3.87472 15.4811 3.22215 14.4113 2.77806C13.3415 2.33397 12.1941 2.10723 11.0358 2.11107C6.18243 2.11107 2.22687 6.06663 2.22687 10.92C2.22687 12.4755 2.63576 13.9866 3.40021 15.32L2.15576 19.8888L6.82243 18.6622C8.11132 19.3644 9.56021 19.7377 11.0358 19.7377C15.8891 19.7377 19.8447 15.7822 19.8447 10.9288C19.8447 8.57329 18.9291 6.35996 17.2669 4.69774ZM11.0358 18.2444C9.72021 18.2444 8.43132 17.8888 7.30243 17.2222L7.03576 17.0622L4.26243 17.7911L5.00021 15.0888L4.82243 14.8133C4.09136 13.6462 3.70325 12.2971 3.70243 10.92C3.70243 6.8844 6.99132 3.59552 11.0269 3.59552C12.9824 3.59552 14.8224 4.35996 16.2002 5.74663C16.8825 6.42562 17.4232 7.23333 17.791 8.12292C18.1587 9.01251 18.3462 9.96626 18.3424 10.9288C18.3602 14.9644 15.0713 18.2444 11.0358 18.2444ZM15.0535 12.7688C14.8313 12.6622 13.7469 12.1288 13.5513 12.0488C13.3469 11.9777 13.2047 11.9422 13.0535 12.1555C12.9024 12.3777 12.4847 12.8755 12.3602 13.0177C12.2358 13.1688 12.1024 13.1866 11.8802 13.0711C11.658 12.9644 10.9469 12.7244 10.1113 11.9777C9.45354 11.3911 9.01798 10.6711 8.88465 10.4488C8.76021 10.2266 8.86687 10.1111 8.98243 9.99552C9.08021 9.89774 9.20465 9.73774 9.31132 9.61329C9.41798 9.48885 9.46243 9.39107 9.53354 9.24885C9.60465 9.09774 9.56909 8.97329 9.51576 8.86663C9.46243 8.75996 9.01798 7.67552 8.84021 7.23107C8.66243 6.8044 8.47576 6.85774 8.34243 6.84885H7.91576C7.76465 6.84885 7.53354 6.90218 7.32909 7.1244C7.13354 7.34663 6.56465 7.87996 6.56465 8.9644C6.56465 10.0488 7.35576 11.0977 7.46243 11.24C7.5691 11.3911 9.01798 13.6133 11.2224 14.5644C11.7469 14.7955 12.1558 14.9288 12.4758 15.0266C13.0002 15.1955 13.4802 15.1688 13.8624 15.1155C14.2891 15.0533 15.1691 14.5822 15.3469 14.0666C15.5335 13.5511 15.5335 13.1155 15.4713 13.0177C15.4091 12.92 15.2758 12.8755 15.0535 12.7688Z"
                                    fill="white" />
                            </svg>
                        </a>
                        <a href="#" class="w-10 h-10 flex items-center justify-center bg-[var(--color-brand)] rounded-full">

                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6.21778 9.92444C7.49778 12.44 9.56 14.5022 12.0756 15.7822L14.0311 13.8267C14.28 13.5778 14.6267 13.5067 14.9378 13.6044C15.9333 13.9333 17 14.1111 18.1111 14.1111C18.3469 14.1111 18.573 14.2048 18.7397 14.3715C18.9064 14.5382 19 14.7643 19 15V18.1111C19 18.3469 18.9064 18.573 18.7397 18.7397C18.573 18.9064 18.3469 19 18.1111 19C14.1034 19 10.2598 17.4079 7.42594 14.5741C4.59206 11.7402 3 7.89661 3 3.88889C3 3.65314 3.09365 3.42705 3.26035 3.26035C3.42705 3.09365 3.65314 3 3.88889 3H7C7.23575 3 7.46184 3.09365 7.62854 3.26035C7.79524 3.42705 7.88889 3.65314 7.88889 3.88889C7.88889 5 8.06667 6.06667 8.39556 7.06222C8.49333 7.37333 8.42222 7.72 8.17333 7.96889L6.21778 9.92444Z"
                                    fill="white" />
                            </svg>

                        </a>
                        <a href="#" class="w-10 h-10 flex items-center justify-center bg-[var(--color-brand)] rounded-full">

                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.2222 17.2222H4.77778V7.44445H17.2222M14.5556 1.22223V3.00001H7.44444V1.22223H5.66667V3.00001H4.77778C3.79111 3.00001 3 3.79112 3 4.77778V17.2222C3 17.6937 3.1873 18.1459 3.5207 18.4793C3.8541 18.8127 4.30628 19 4.77778 19H17.2222C17.6937 19 18.1459 18.8127 18.4793 18.4793C18.8127 18.1459 19 17.6937 19 17.2222V4.77778C19 4.30629 18.8127 3.8541 18.4793 3.52071C18.1459 3.18731 17.6937 3.00001 17.2222 3.00001H16.3333V1.22223M15.4444 11H11V15.4445H15.4444V11Z"
                                    fill="white" />
                            </svg>

                        </a>
                    </nav>
                </div>
            </div>
        </div>
        <div class="w-full absolute bottom-0 top-0 left-0 right-0 z-[-1]">
            <img src="{{ asset('assets/img/hero-bg1.png') }}" alt="Curve" class="w-full h-full">
            {{-- <svg height="110" viewBox="0 0 1440 110" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full"
                preserveAspectRatio="none">
                <g clip-path="url(#clip0_425_14819)">
                    <path
                        d="M1440 38.8956C1440 38.8956 1402.92 55.7553 1368.89 56.9316C1334.35 58.1078 1304.89 56.9316 1262.73 51.0503C1205.33 43.2085 1094.6 11.4496 1035.68 28.7014C976.762 45.9532 974.222 46.7373 944.254 57.7157C910.73 70.2625 842.667 95.356 758.349 94.1798C668.444 93.0035 505.397 29.0934 438.349 32.2301C431.238 32.6222 404.825 35.3668 385.016 40.0719C365.714 44.7769 337.27 54.9711 298.667 58.4999C282.413 60.0683 256.508 62.8129 226.54 62.0287C218.921 61.6366 194.54 60.4603 165.587 55.7553C136.635 51.0503 109.714 43.6006 85.3333 41.2481C33.0159 36.9352 0 43.2085 0 43.2085V0.86322H1440V38.8956ZM1324.7 45.169C1321.14 41.2481 1314.54 43.6006 1302.86 43.6006C1291.17 43.6006 1271.87 38.8956 1273.4 39.2877C1274.92 39.6798 1289.14 45.169 1303.87 46.7373C1319.11 48.6978 1327.75 49.0898 1324.7 45.169ZM1231.24 34.5826C1231.24 34.5826 1219.05 33.7985 1202.79 31.0539C1186.54 27.9172 1150.48 20.0755 1126.1 17.3308C1084.44 13.0179 1045.84 17.3308 1049.4 17.7229C1053.46 18.115 1098.16 15.3704 1138.79 22.0359C1155.56 24.7805 1186.03 30.6618 1201.78 32.6222C1218.54 34.9747 1231.24 34.5826 1231.24 34.5826ZM940.698 34.1906C949.333 31.446 873.143 52.6186 846.73 58.1078C836.063 60.4604 815.238 64.3812 795.937 65.9496C776.127 67.5179 750.73 67.5179 751.238 67.91C751.238 68.6942 780.698 71.0467 808.127 67.91C835.556 64.7733 834.54 63.597 846.73 61.6366C866.032 58.4999 932.064 36.9352 940.698 34.1906ZM1011.3 27.9172C1012.32 27.9172 1007.24 26.3488 986.921 32.2301C966.603 38.1114 952.889 45.9532 951.873 46.7373C950.857 47.1294 969.651 39.6798 985.397 34.9747C1000.63 30.2697 1010.79 27.9172 1011.3 27.9172ZM1437.46 24.3884C1436.95 24.7805 1427.81 28.7014 1413.08 34.1906C1398.35 39.6798 1378.03 45.169 1379.05 44.7769C1380.06 44.7769 1396.83 42.4244 1416.63 34.9747C1436.44 27.5251 1437.97 23.9963 1437.46 24.3884ZM158.984 46.3452C159.492 45.5611 149.333 45.5611 136.127 41.6402C122.921 37.7193 108.698 35.3668 96.5079 33.7985C76.1905 30.6618 37.0794 34.1906 39.1111 34.5826C40.6349 34.9747 80.7619 33.4064 102.603 37.3273C113.778 39.2877 114.794 39.2877 131.556 43.6006C148.317 47.9136 158.476 47.5215 158.984 46.3452ZM370.794 36.9352C372.825 36.5431 388.571 30.6618 413.46 26.7409C438.349 22.428 458.667 24.7805 458.667 23.6042C458.667 22.428 453.587 20.0755 427.175 22.428C400.762 24.7805 368.762 37.3273 370.794 36.9352ZM363.683 27.133C364.698 27.5251 380.952 22.0359 392.635 20.4675C404.317 19.2913 402.286 18.5071 402.286 18.115C402.286 17.7229 396.698 17.3308 388.571 18.8992C379.937 20.8596 362.667 26.7409 363.683 27.133ZM475.429 18.115C475.937 18.8992 493.206 21.2517 503.873 25.1726C514.54 29.0934 513.016 27.5251 513.524 27.133C514.032 26.7409 509.46 23.9963 501.333 22.0359C493.206 19.6834 474.921 17.3308 475.429 18.115ZM332.19 44.3848C331.683 45.5611 333.714 46.3452 341.841 43.6006C349.968 40.856 355.048 38.5035 353.016 38.8956C350.984 39.2877 348.444 40.4639 340.317 42.0323C331.683 43.6006 332.698 43.2085 332.19 44.3848ZM175.238 49.4819C174.222 49.4819 185.905 52.6186 192 53.0107C198.095 53.4028 202.159 53.4028 202.159 52.2265C202.159 51.0503 201.651 50.2661 194.032 50.6582C185.905 51.0503 176.254 49.4819 175.238 49.4819ZM773.079 83.5934C772.571 83.9855 760.889 82.4172 734.984 82.4172C709.587 82.4172 665.905 73.0071 647.619 68.6942C629.333 64.3812 698.413 83.9855 731.429 84.7697C764.444 85.5539 773.587 83.2014 773.079 83.5934Z"
                        fill="black" />
                    <path
                        d="M1369.4 71.4388C1368.89 71.0467 1346.03 72.615 1332.83 71.4388C1295.75 68.6942 1246.48 58.892 1248.51 60.0683C1250.54 61.2445 1318.1 72.2229 1334.86 73.0071C1359.75 74.5755 1369.9 71.4388 1369.4 71.4388Z"
                        fill="black" />
                    <path
                        d="M1155.05 39.2877C1154.03 38.8956 1132.19 35.3669 1106.79 34.5827C1081.4 33.7985 1042.29 36.9352 1044.32 36.5431C1045.84 36.151 1074.29 29.4856 1111.87 31.8381C1149.46 34.1906 1156.06 39.6798 1155.05 39.2877Z"
                        fill="black" />
                    <path
                        d="M1038.73 53.4029C1038.22 53.0108 1048.89 49.482 1054.98 49.0899C1061.08 48.6978 1065.14 49.0899 1065.14 50.2662C1065.14 51.4424 1064.64 52.2266 1057.02 51.8345C1048.38 51.4424 1039.24 53.7949 1038.73 53.4029Z"
                        fill="black" />
                    <path
                        d="M1020.95 42.4243C1020.95 42.0322 998.604 47.1293 988.953 51.0502C979.302 54.5789 957.461 63.2048 957.969 63.2048C958.477 63.5969 979.302 56.9315 989.969 53.0106C1000.64 49.0897 1020.95 42.8164 1020.95 42.4243Z"
                        fill="black" />
                    <path
                        d="M784.762 105.55C784.254 105.158 761.397 106.727 748.19 105.55C711.111 102.806 661.841 93.0036 663.873 94.1798C665.905 95.3561 733.46 106.335 750.222 107.119C775.111 108.687 785.27 105.942 784.762 105.55Z"
                        fill="black" />
                    <path
                        d="M212.825 76.5358C212.825 76.5358 218.92 75.3595 227.555 76.1437C236.19 76.9279 257.015 79.6725 269.206 78.8883C290.539 77.32 306.793 68.302 304.761 68.6941C302.73 68.6941 282.92 77.32 261.079 76.1437C251.936 75.7516 235.174 74.1833 227.047 74.5753C218.92 74.9674 212.825 76.5358 212.825 76.5358Z"
                        fill="black" />
                    <path
                        d="M383.492 50.2661C384.507 50.6582 393.65 47.1294 405.333 45.9532C417.015 45.169 416 44.7769 416 43.9928C416 43.6007 406.857 42.4244 398.73 43.9928C390.603 45.9532 382.476 49.874 383.492 50.2661Z"
                        fill="black" />
                    <path
                        d="M79.2385 52.6186C79.2385 52.2265 101.08 52.6186 113.27 54.5791C125.461 56.5395 138.667 62.0287 138.667 62.4208C138.667 62.8129 124.953 59.2841 112.762 56.9316C101.08 54.5791 79.7465 53.0107 79.2385 52.6186Z"
                        fill="black" />
                </g>
                <defs>
                    <clipPath id="clip0_425_14819">
                        <rect width="1440" height="109" fill="white" transform="translate(0 0.86322)" />
                    </clipPath>
                </defs>
            </svg> --}}
        </div>
    </section>



    {{-- Home About --}}
    @include('partials.home-about')

    {{-- Working steps --}}
    @include('partials.working-steps')
    @include('partials.home-pricing')
    @include('partials.benefits')
    @include('partials.showcase')
    @include('partials.cta')
    @include('partials.testimonials')

    {{-- Modal --}}

    <style>
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transform: scale(1.05);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 9999;
        }

        .modal.show {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 1200px;
            width: 100%;
            padding: 30px;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        /* Disable body scroll when modal is open */
        body.modal-open {
            overflow: hidden;
        }
    </style>

    @php
        $plans = [
            [
                'name' => 'Basic Treatment',
                'slug' => '€44.95',
                'price' => '€64.95',
                'color' => '#003868',
                'borderColor' => '#0C5798',
                'buttonText' => 'Get started with Basic',
                'icon' => '<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_425_15641)"><path fill-rule="evenodd" clip-rule="evenodd"d="M14.6697 1.93946C14.1018 0.380531 11.8983 0.380531 11.3304 1.93946L8.75361 9.02339L1.66968 11.6002C0.110756 12.168 0.110756 14.3716 1.66968 14.9395L8.75361 17.5162L11.3304 24.6002C11.8983 26.1591 14.1018 26.1591 14.6697 24.6002L17.2465 17.5162L24.3304 14.9395C25.8893 14.3716 25.8893 12.168 24.3304 11.6002L17.2465 9.02339L14.6697 1.93946Z" fill="#003868" /></g><defs><clipPath id="clip0_425_15641"><rect width="25" height="25" fill="white" transform="translate(0.5 0.769775)" /></clipPath></defs></svg>',
                'features' => [
                    'extra' => null,
                    'exterior' => [
                        'Thorough wash of the exterior including rims, bumpers, and windows.',
                        'Removes dirt, deposits, and insect residues for a fresh appearance.',
                        'Door frames cleaned.'
                    ],
                    'interior' => [
                        'Vacuuming mats and seats.'
                    ]
                ]
            ],
            [
                'name' => 'Premium Treatment',
                'price' => '€84.95',
                'color' => 'var(--color-brand)',
                'borderColor' => '#63FFFA',
                'buttonText' => 'Get started with Premium',
                'icon' => '<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0_706_5175)"> <path fill-rule="evenodd" clip-rule="evenodd" d="M14.6697 3.93946C14.1018 2.38053 11.8983 2.38053 11.3304 3.93946L8.75361 11.0234L1.66968 13.6002C0.110756 14.168 0.110756 16.3716 1.66968 16.9395L8.75361 19.5162L11.3304 26.6002C11.8983 28.1591 14.1018 28.1591 14.6697 26.6002L17.2465 19.5162L24.3304 16.9395C25.8893 16.3716 25.8893 14.168 24.3304 13.6002L17.2465 11.0234L14.6697 3.93946Z" fill="#6ADBD9" /></g><g clip-path="url(#clip1_706_5175)"><path d="M18.0905 5.17814L21.079 4.09028L22.1662 1.10243C22.1911 1.03398 22.2365 0.974858 22.2962 0.933081C22.3558 0.891305 22.4269 0.868896 22.4997 0.868896C22.5726 0.868896 22.6437 0.891305 22.7033 0.933081C22.763 0.974858 22.8084 1.03398 22.8333 1.10243L23.9212 4.091L26.9097 5.17814C26.9782 5.20307 27.0373 5.24844 27.0791 5.30812C27.1209 5.36779 27.1433 5.43887 27.1433 5.51171C27.1433 5.58456 27.1209 5.65563 27.0791 5.71531C27.0373 5.77498 26.9782 5.82036 26.9097 5.84528L23.9205 6.93314L22.8333 9.92171C22.8084 9.99016 22.763 10.0493 22.7033 10.0911C22.6437 10.1328 22.5726 10.1552 22.4997 10.1552C22.4269 10.1552 22.3558 10.1328 22.2962 10.0911C22.2365 10.0493 22.1911 9.99016 22.1662 9.92171L21.0783 6.93243L18.0905 5.84528C18.022 5.82036 17.9629 5.77498 17.9211 5.71531C17.8793 5.65563 17.8569 5.58456 17.8569 5.51171C17.8569 5.43887 17.8793 5.36779 17.9211 5.30812C17.9629 5.24844 18.022 5.20307 18.0905 5.17814Z" fill="#6ADBD9" /></g><defs><clipPath id="clip0_706_5175"><rect width="25" height="25" fill="white" transform="translate(0.5 2.76978)" /></clipPath><clipPath id="clip1_706_5175"><rect width="10" height="10" fill="white" transform="translate(17.5 0.511719)" /></clipPath></defs></svg>',
                'features' => [
                    'extra' => 'Everything in the Basic Package, plus:',
                    'exterior' => [
                        'Exterior cleaning',
                        'Door frames cleaned.'
                    ],
                    'interior' => [
                        'Vacuuming mats and seats.',
                        'Cleaning windows (inside)',
                        'Dashboard cleaning',
                        'Cleaning plastic parts'
                    ]
                ]
            ],
            [
                'name' => 'Full Detail Treatment',
                'price' => '€279.95',
                'color' => '#CBA328',
                'borderColor' => '#E6BA30',
                'buttonText' => 'Get started with Full Detail',
                'icon' => '<svg width="31" height="34" viewBox="0 0 31 34" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_707_5176)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.6697 5.93946C15.1018 4.38053 12.8983 4.38053 12.3304 5.93946L9.75361 13.0234L2.66968 15.6002C1.11076 16.168 1.11076 18.3716 2.66968 18.9395L9.75361 21.5162L12.3304 28.6002C12.8983 30.1591 15.1018 30.1591 15.6697 28.6002L18.2465 21.5162L25.3304 18.9395C26.8893 18.3716 26.8893 16.168 25.3304 15.6002L18.2465 13.0234L15.6697 5.93946Z" fill="#CBA328" /></g><g clip-path="url(#clip1_707_5176)"><path d="M19.2089 6.11152L22.7952 4.80609L24.0998 1.22067C24.1297 1.13853 24.1842 1.06758 24.2558 1.01745C24.3274 0.96732 24.4127 0.94043 24.5001 0.94043C24.5875 0.94043 24.6728 0.96732 24.7444 1.01745C24.816 1.06758 24.8705 1.13853 24.9004 1.22067L26.2058 4.80695L29.7921 6.11152C29.8742 6.14143 29.9452 6.19589 29.9953 6.26749C30.0454 6.3391 30.0723 6.4244 30.0723 6.51181C30.0723 6.59922 30.0454 6.68452 29.9953 6.75612C29.9452 6.82773 29.8742 6.88218 29.7921 6.91209L26.2049 8.21752L24.9004 11.8038C24.8705 11.8859 24.816 11.9569 24.7444 12.007C24.6728 12.0572 24.5875 12.084 24.5001 12.084C24.4127 12.084 24.3274 12.0572 24.2558 12.007C24.1842 11.9569 24.1297 11.8859 24.0998 11.8038L22.7944 8.21667L19.2089 6.91209C19.1268 6.88218 19.0559 6.82773 19.0057 6.75612C18.9556 6.68452 18.9287 6.59922 18.9287 6.51181C18.9287 6.4244 18.9556 6.3391 19.0057 6.26749C19.0559 6.19589 19.1268 6.14143 19.2089 6.11152Z" fill="#CBA328" /></g> <g clip-path="url(#clip2_707_5176)"><path d="M0.913471 26.2665L3.00547 25.505L3.76647 23.4135C3.78392 23.3656 3.81568 23.3242 3.85745 23.2949C3.89922 23.2657 3.94898 23.25 3.99997 23.25C4.05096 23.25 4.10072 23.2657 4.14249 23.2949C4.18426 23.3242 4.21602 23.3656 4.23347 23.4135L4.99497 25.5055L7.08697 26.2665C7.13488 26.2839 7.17627 26.3157 7.20551 26.3575C7.23476 26.3992 7.25044 26.449 7.25044 26.5C7.25044 26.551 7.23476 26.6007 7.20551 26.6425C7.17627 26.6843 7.13488 26.716 7.08697 26.7335L4.99447 27.495L4.23347 29.587C4.21602 29.6349 4.18426 29.6763 4.14249 29.7055C4.10072 29.7348 4.05096 29.7504 3.99997 29.7504C3.94898 29.7504 3.89922 29.7348 3.85745 29.7055C3.81568 29.6763 3.78392 29.6349 3.76647 29.587L3.00497 27.4945L0.913471 26.7335C0.865558 26.716 0.824173 26.6843 0.794929 26.6425C0.765686 26.6007 0.75 26.551 0.75 26.5C0.75 26.449 0.765686 26.3992 0.794929 26.3575C0.824173 26.3157 0.865558 26.2839 0.913471 26.2665Z"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     fill="#CBA328" /></g><g clip-path="url(#clip3_707_5176)"> <path d="M18.8545 30.7999L20.6476 30.1472L21.2999 28.3545C21.3149 28.3134 21.3421 28.2779 21.3779 28.2529C21.4137 28.2278 21.4563 28.2144 21.5 28.2144C21.5438 28.2144 21.5864 28.2278 21.6222 28.2529C21.658 28.2779 21.6852 28.3134 21.7002 28.3545L22.3529 30.1476L24.146 30.7999C24.1871 30.8149 24.2226 30.8421 24.2477 30.8779C24.2727 30.9137 24.2862 30.9563 24.2862 31C24.2862 31.0438 24.2727 31.0864 24.2477 31.1222C24.2226 31.158 24.1871 31.1852 24.146 31.2002L22.3525 31.8529L21.7002 33.646C21.6852 33.6871 21.658 33.7226 21.6222 33.7477C21.5864 33.7727 21.5438 33.7862 21.5 33.7862C21.4563 33.7862 21.4137 33.7727 21.3779 33.7477C21.3421 33.7226 21.3149 33.6871 21.2999 33.646L20.6472 31.8525L18.8545 31.2002C18.8134 31.1852 18.7779 31.158 18.7529 31.1222C18.7278 31.0864 18.7144 31.0438 18.7144 31C18.7144 30.9563 18.7278 30.9137 18.7529 30.8779C18.7779 30.8421 18.8134 30.8149 18.8545 30.7999Z" fill="#CBA328" /></g> <defs><clipPath id="clip0_707_5176"><rect width="25" height="25" fill="white" transform="translate(1.5 4.76978)" /></clipPath><clipPath id="clip1_707_5176"> <rect width="12" height="12" fill="white" transform="translate(18.5 0.511719)" /></clipPath><clipPath id="clip2_707_5176"><rect width="7" height="7" fill="white" transform="translate(0.5 23)" /></clipPath><clipPath id="clip3_707_5176"><rect width="6" height="6" fill="white" transform="translate(18.5 28)" /></clipPath></defs></svg>',
                'features' => [
                    'extra' => 'Everything in the Premium Package, plus:',
                    'exterior' => [
                        'Exterior cleaning',
                        'Door frames cleaned.'
                    ],
                    'interior' => [
                        'Vacuuming mats and seats.',
                        'Cleaning windows (inside)',
                        'Dashboard cleaning',
                        'Cleaning plastic parts'
                    ]
                ]
            ]
        ];
    @endphp

    <div class="modal" id="heroModal">
        <div class="modal-content relative h-[calc(100vh-200px)]">
            <div class="close-modal bg-white w-[28px] h-[28px] rounded-full flex items-center justify-center absolute top-[-14px] right-[-14px] cursor-pointer"
                onClick="closeModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#EA6216"
                        d="M20.48 3.512a11.97 11.97 0 0 0-8.486-3.514C5.366-.002-.007 5.371-.007 11.999c0 3.314 1.344 6.315 3.516 8.487A11.97 11.97 0 0 0 11.995 24c6.628 0 12.001-5.373 12.001-12.001c0-3.314-1.344-6.315-3.516-8.487m-1.542 15.427a9.8 9.8 0 0 1-6.943 2.876c-5.423 0-9.819-4.396-9.819-9.819a9.8 9.8 0 0 1 2.876-6.943a9.8 9.8 0 0 1 6.942-2.876c5.422 0 9.818 4.396 9.818 9.818a9.8 9.8 0 0 1-2.876 6.942z" />
                    <path fill="#EA6216"
                        d="m13.537 12l3.855-3.855a1.091 1.091 0 0 0-1.542-1.541l.001-.001l-3.855 3.855l-3.855-3.855A1.091 1.091 0 0 0 6.6 8.145l-.001-.001l3.855 3.855l-3.855 3.855a1.091 1.091 0 1 0 1.541 1.542l.001-.001l3.855-3.855l3.855 3.855a1.091 1.091 0 1 0 1.542-1.541l-.001-.001z" />
                </svg>
            </div>
            <div class="flex items-center gap-4 px-5 py-7.5 border border-[#C8CEDD] rounded-[16px]">
                <div class="w-[50px] h-[50px] rounded-[16px] bg-[#E7F1FF] flex items-center justify-center">
                    <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7.37473 0.8125C7.62337 0.8125 7.86182 0.911272 8.03764 1.08709C8.21345 1.2629 8.31223 1.50136 8.31223 1.75V2.06625C8.74139 2.06292 9.20764 2.06167 9.71098 2.0625H16.2885C16.7918 2.0625 17.2581 2.06375 17.6872 2.06625V1.75C17.6872 1.50136 17.786 1.2629 17.9618 1.08709C18.1376 0.911272 18.3761 0.8125 18.6247 0.8125C18.8734 0.8125 19.1118 0.911272 19.2876 1.08709C19.4635 1.2629 19.5622 1.50136 19.5622 1.75V2.12625C19.5772 2.12625 19.5918 2.1275 19.606 2.13C20.4935 2.1975 21.2422 2.34125 21.926 2.67C23.0316 3.1961 23.9428 4.05791 24.5297 5.1325C24.8885 5.7975 25.0422 6.52375 25.116 7.37375C25.1872 8.20125 25.1872 9.22625 25.1872 10.5112V16.7375C25.1872 18.0238 25.1872 19.05 25.116 19.8762C25.041 20.7262 24.8885 21.4525 24.5297 22.1162C23.943 23.1913 23.0318 24.0536 21.926 24.58C21.2422 24.9088 20.4935 25.0525 19.606 25.12C18.736 25.1875 17.656 25.1875 16.2885 25.1875H9.71223C8.34473 25.1875 7.26473 25.1875 6.39473 25.12C5.50723 25.0512 4.75848 24.9088 4.07473 24.58C2.96911 24.0539 2.05787 23.1921 1.47098 22.1175C1.11223 21.4525 0.958477 20.7262 0.884727 19.8762C0.813477 19.0487 0.813477 18.0238 0.813477 16.7388V10.5125C0.813477 9.22625 0.813477 8.2 0.884727 7.37375C0.959727 6.52375 1.11223 5.7975 1.47098 5.13375C2.05766 4.0587 2.96892 3.19643 4.07473 2.67C4.75848 2.34125 5.50723 2.1975 6.39473 2.13L6.43723 2.125V1.75C6.43723 1.50136 6.536 1.2629 6.71181 1.08709C6.88763 0.911272 7.12609 0.8125 7.37473 0.8125ZM6.43723 4.0075C5.71598 4.07 5.25473 4.1825 4.88723 4.36C4.13774 4.71428 3.51919 5.29609 3.11973 6.0225C2.97723 6.2875 2.87473 6.605 2.80723 7.0625H23.1935C23.1247 6.605 23.0222 6.2875 22.8797 6.02375C22.4808 5.29706 21.8627 4.71483 21.1135 4.36C20.7447 4.1825 20.2835 4.07 19.5622 4.0075V4.25C19.5622 4.49864 19.4635 4.7371 19.2876 4.91291C19.1118 5.08873 18.8734 5.1875 18.6247 5.1875C18.3761 5.1875 18.1376 5.08873 17.9618 4.91291C17.786 4.7371 17.6872 4.49864 17.6872 4.25V3.94125C17.2614 3.93792 16.7822 3.93667 16.2497 3.9375H9.74973C9.21723 3.9375 8.73806 3.93875 8.31223 3.94125V4.25C8.31223 4.49864 8.21345 4.7371 8.03764 4.91291C7.86182 5.08873 7.62337 5.1875 7.37473 5.1875C7.12609 5.1875 6.88763 5.08873 6.71181 4.91291C6.536 4.7371 6.43723 4.49864 6.43723 4.25V4.0075Z"
                            fill="#0088FF" />
                    </svg>

                </div>
                <div class="space-y-2">
                    <h4 class="text-[24px] font-bold text-[var(--color-heading)] leading-[1.4]">Book your service</h4>
                    <p class="text-[16px] font-medium text-[var(--color-text)] leading-[1.4] font-sf">For your service,
                        share your details,
                        and we’ll take care of the rest.</p>
                </div>
            </div>
            <div class="flex items-center justify-center my-[40px] gap-3">
                <div class="flex items-center border border-[#D1D7DF] rounded-[60px] p-1.5">
                    <button
                        class="pricing-opt text-[#8D8D8D] text-base font-bold rounded-[60px] py-2.5 text-center uppercase  inline-block cursor-pointer px-6 active">Single</button>
                    <button
                        class="pricing-opt text-white text-base font-bold rounded-[60px] py-2.5 px-6 text-center uppercase inline-block cursor-pointer bg-[var(--color-brand)]">Monthly</button>
                </div>
                <div class="flex items-start">

                    <svg width="75" height="51" viewBox="0 0 75 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M8.02222 41.4088C8.3385 41.2083 8.41978 40.84 8.24493 40.5642C7.63328 39.5992 6.6079 38.0621 5.74197 36.7817C5.30935 36.1421 4.91768 35.5677 4.63851 35.1634C4.49874 34.9609 4.38734 34.8027 4.31422 34.7C4.27701 34.6477 4.25271 34.6131 4.23935 34.5955C4.24199 34.5986 4.24572 34.6026 4.24982 34.6069C4.2534 34.6106 4.26932 34.6278 4.29324 34.6462C4.30356 34.6542 4.3343 34.6779 4.37946 34.6974C4.40281 34.7075 4.55904 34.775 4.73238 34.682C4.74859 34.6733 4.76342 34.663 4.77726 34.6532C4.66975 34.4992 4.5926 34.3949 4.55835 34.3502L4.19606 34.5422C3.87411 34.0236 3.66439 33.6657 3.54727 33.4056C3.43157 33.1486 3.36104 32.8922 3.46083 32.6285L3.47111 32.6013L3.48527 32.5757C3.63169 32.3104 3.87122 32.0994 4.2945 31.7969C4.72491 31.4893 5.40768 31.0462 6.50458 30.3306L6.50774 30.3281C9.33824 28.5205 11.4535 27.1268 14.2518 24.8946C14.5558 24.6372 14.5465 24.2493 14.3802 24.0689L14.3743 24.063L14.3689 24.0558C14.1115 23.751 13.723 23.7591 13.5424 23.9256L13.5297 23.9378L13.5152 23.9485L12.5029 24.7235C10.2088 26.464 8.34316 27.7656 5.88171 29.2659L5.8826 29.2655C4.51329 30.1061 3.75204 30.5797 3.27534 30.9438C2.82372 31.2887 2.65079 31.5168 2.46217 31.8732L2.45175 31.8929L2.35373 32.0677C2.14935 32.4701 2.10113 32.8368 2.18421 33.2493C2.28425 33.7458 2.58051 34.3352 3.11576 35.14C3.12485 35.1517 3.13494 35.1669 3.14471 35.1805C3.1658 35.2097 3.19696 35.2534 3.23566 35.3087C3.31361 35.4201 3.42791 35.5848 3.56885 35.7895C3.85115 36.1996 4.24381 36.7733 4.6753 37.4098C5.53718 38.681 6.55962 40.2093 7.17852 41.1857C7.37888 41.5018 7.74641 41.5833 8.02222 41.4088ZM3.03055 35.7095C3.1155 35.6245 3.1889 35.4544 3.19529 35.388C3.19419 35.3534 3.18643 35.2991 3.18177 35.2794C3.1733 35.2474 3.16296 35.2234 3.16026 35.2174L2.80879 35.412C2.84282 35.4589 2.91553 35.5638 3.01986 35.7143C3.0234 35.7126 3.02716 35.7113 3.03055 35.7095Z"
                            fill="#6ADBD9" stroke="#6ADBD9" stroke-width="0.8125" />
                        <path
                            d="M45.1053 33.7188C54.5885 29.5922 62.0254 21.262 68.2212 7.83068C68.3616 7.44942 68.2004 7.09906 67.9278 6.99571C67.5435 6.85015 67.1893 7.01185 67.0851 7.28623L67.0735 7.31286L66.506 8.52153C60.5994 20.8634 53.5811 28.6646 44.5699 32.5794C35.2815 36.6146 23.9536 36.4861 9.70248 33.0867C9.31185 33.0232 8.9821 33.2552 8.90418 33.5211C8.84906 33.9113 9.08774 34.2385 9.35566 34.3074L9.35517 34.3087C23.9903 37.8035 35.6116 37.85 45.1053 33.7188Z"
                            fill="#6ADBD9" stroke="#6ADBD9" stroke-width="0.8125" />
                    </svg>
                    <div class="text-[18px] text-[var(--color-brand)] tracking-[0.8px] font-cursive font-semibold">Save
                        <span class="text-[22px]">20%</span> on <br /> Monthly
                        Subscriptions</span>
                    </div>
                </div>
            </div>
            <div id="selectedInfo" class="text-sm text-gray-600">No package selected</div>
            <div class="pricing-table h-1/2 overflow-y-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="pricingGrid">
                    @foreach ($plans as $plan)
                        <div class="pricing-card flex flex-col justify-between p-[30px] rounded-[20px] text-white cursor-pointer select-none transition-transform transform border-4"
                            style="background-color: {{ $plan['color'] }};" data-plan-id="{{ $plan['id'] ?? $loop->index }}"
                            data-plan-name="{{ $plan['name'] }}" data-plan-price="{{ $plan['price'] }}" role="button"
                            tabindex="0" aria-pressed="false">
                            {{-- Header --}}
                            <div class="pricing-card-header flex flex-col gap-4 pb-4 relative">
                                <div
                                    class="w-[32px] h-[32px] bg-white rounded-[16px] flex justify-center items-center absolute top-[-14px] right-0">

                                    <svg width="24" height="24" viewBox="0 0 24 25" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="checkmark hidden">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M12 24.021C13.5759 24.021 15.1363 23.7106 16.5922 23.1076C18.0481 22.5045 19.371 21.6206 20.4853 20.5063C21.5996 19.392 22.4835 18.0691 23.0866 16.6132C23.6896 15.1573 24 13.5969 24 12.021C24 10.4451 23.6896 8.8847 23.0866 7.42879C22.4835 5.97289 21.5996 4.65002 20.4853 3.53571C19.371 2.42141 18.0481 1.5375 16.5922 0.934442C15.1363 0.331385 13.5759 0.0209961 12 0.0209961C8.8174 0.0209961 5.76516 1.28528 3.51472 3.53571C1.26428 5.78615 0 8.8384 0 12.021C0 15.2036 1.26428 18.2558 3.51472 20.5063C5.76516 22.7567 8.8174 24.021 12 24.021ZM11.6907 16.8743L18.3573 8.87433L16.3093 7.16766L10.576 14.0463L7.60933 11.0783L5.724 12.9637L9.724 16.9637L10.756 17.9957L11.6907 16.8743Z"
                                            fill="#34C759" />
                                    </svg>

                                </div>
                                <div class="w-[44px] h-[44px] bg-white rounded-[16px] flex justify-center items-center">
                                    {!! $plan['icon'] !!}
                                </div>
                                <h3 class="text-[22px] font-semibold">{{ $plan['name'] }}</h3>
                                <span class="text-[36px] font-extrabold">{{ $plan['price'] }}</span>
                            </div>

                            {{-- Body --}}
                            <div class="pricing-card-body flex-1 border-t hidden"
                                style="border-color: {{ $plan['borderColor'] }}">
                                <div class="pricing-card-features py-4 space-y-4 border-b"
                                    style="border-color: {{ $plan['borderColor'] }}">
                                    @if ($plan['features']['extra'])
                                        <div class="text-white text-lg font-bold pb-4 mb-4 border-b"
                                            style="border-color: {{ $plan['borderColor'] }}">
                                            {{ $plan['features']['extra'] }}
                                        </div>
                                    @endif

                                    <div class="text-white text-lg font-bold mb-4">Exterior Dealing</div>
                                    @foreach ($plan['features']['exterior'] as $feature)
                                        <div class="flex gap-3">
                                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0">
                                                <rect x="0.5" y="1.05347" width="19" height="19" rx="6.16667" stroke="white" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M16.6237 7.0549L8.05424 15.6243L3.37646 10.9466L4.9487 9.37433L8.05424 12.4799L15.0514 5.48267L16.6237 7.0549Z"
                                                    fill="white" />
                                            </svg>
                                            <span class="text-[15px] font-medium">{{ $feature }}</span>
                                        </div>
                                    @endforeach
                                </div>

                                <div class="pricing-card-features py-4 space-y-4">
                                    <div class="text-white text-lg font-bold mb-4">Interior</div>
                                    @foreach ($plan['features']['interior'] as $feature)
                                        <div class="flex gap-3">
                                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0">
                                                <rect x="0.5" y="1.05347" width="19" height="19" rx="6.16667" stroke="white" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M16.6237 7.0549L8.05424 15.6243L3.37646 10.9466L4.9487 9.37433L8.05424 12.4799L15.0514 5.48267L16.6237 7.0549Z"
                                                    fill="white" />
                                            </svg>
                                            <span class="text-[15px] font-medium">{{ $feature }}</span>
                                        </div>
                                    @endforeach
                                </div>
                            </div>

                            {{-- Footer --}}
                            <div class="pricing-card-footer mt-4 hidden">
                                <a href="#"
                                    class="text-[#230C0F] text-base font-bold rounded-[60px] px-5 py-3.5 text-center flex items-center justify-center gap-3 cursor-pointer min-w-[164px] bg-white">
                                    <span>{{ $plan['buttonText'] }}</span>
                                    <svg width="8" height="12" viewBox="0 0 8 12" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.5 11.0535L6.5 6.05347L1.5 1.05347" stroke="#230C0F" stroke-width="1.6"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    @endforeach
                </div>
            </div>
            <div class="flex justify-center">
                <button
                    class="p-4 text-base text-[#0088FF] font-semibold tracking-[-0.02px] rounded-[60px] flex justify-center items-center gap-3 cursor-pointer">
                    <span>View Package Details</span>

                    <svg width="13" height="7" viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.5 1.04181L6.5 6.04181L11.5 1.04181" stroke="#0088FF" stroke-width="1.6"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>

                </button>
            </div>
            <div class="flex justify-end gap-3">
                <button id="clearSelection"
                    class="px-4 py-3 bg-[#F2F2F7] text-base text-[var(--color-text)] font-medium tracking-[0.02px] rounded-[60px] w-[110px] flex justify-center items-center cursor-pointer">Cancel</button>
                <button id="nextStepBtn"
                    class="px-4 py-3 bg-[var(--color-brand)] text-base text-white font-medium tracking-[0.02px] rounded-[60px] w-[135px] flex justify-center items-center cursor-pointer">Next</button>
            </div>
        </div>
    </div>
@endsection

<script>
    function openHeroModal() {
        const modal = document.querySelector('#heroModal');
        modal.classList.add('show');
        document.body.classList.add('modal-open');
    }

    function closeModal() {
        const modal = document.querySelector('#heroModal');
        modal.classList.remove('show');
        document.body.classList.remove('modal-open');
    }

    // Optional: close modal when clicking outside of it
    document.querySelector('#heroModal').addEventListener('click', function (e) {
        if (e.target === this) {
            closeModal();
        }
    });

    // If using dynamically loaded content, ensure DOM is ready
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelector('.close-modal')?.addEventListener('click', closeModal);
        document.querySelector('[onclick="openHeroModal()"]')?.addEventListener('click', function (e) {
            e.preventDefault(); // Prevent link navigation
            openHeroModal();
        });
    });


</script>

<!-- Script: vanilla JS for selection flow -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const grid = document.getElementById('pricingGrid');
        const cards = Array.from(grid.querySelectorAll('.pricing-card'));
        const nextBtn = document.getElementById('nextStepBtn');
        const clearBtn = document.getElementById('clearSelection');
        const selectedInfo = document.getElementById('selectedInfo');
        const checkoutWrap = document.getElementById('checkoutFormWrap');
        const backBtn = document.getElementById('backBtn');

        // form inputs to populate
        const formPlanId = document.getElementById('formPlanId');
        const formPlanName = document.getElementById('formPlanName');
        const formPlanPrice = document.getElementById('formPlanPrice');

        let selectedCard = null;

        function setSelected(card) {
            // Click same selected card → unselect (toggle off)
            if (selectedCard) {
                if (selectedCard === card) {
                    selectedCard.classList.remove('border-[#34C759]');
                    selectedCard.setAttribute('aria-pressed', 'false');

                    const check = selectedCard.querySelector('.checkmark');
                    if (check) check.classList.add('hidden');

                    selectedCard = null;
                    selectedInfo.textContent = 'No package selected';
                    nextBtn.disabled = true;
                    nextBtn.classList.add('cursor-not-allowed', 'bg-gray-400');
                    nextBtn.classList.remove('bg-[#230C0F]');
                    return;
                }
            }

            // Unselect previous if a different one was selected
            if (selectedCard && selectedCard !== card) {
                selectedCard.classList.remove('border-[#34C759]');
                selectedCard.setAttribute('aria-pressed', 'false');
                const prevCheck = selectedCard.querySelector('.checkmark');
                if (prevCheck) prevCheck.classList.add('hidden');
            }

            // Select new card
            selectedCard = card;
            selectedCard.classList.add('border-[#34C759]');
            selectedCard.setAttribute('aria-pressed', 'true');

            const check = selectedCard.querySelector('.checkmark');
            if (check) check.classList.remove('hidden');

            // Update label + enable Next
            const name = card.dataset.planName || '—';
            const price = card.dataset.planPrice || '—';
            selectedInfo.textContent = `Selected: ${name} (${price})`;

            nextBtn.disabled = false;
            nextBtn.classList.remove('cursor-not-allowed', 'bg-gray-400');
            nextBtn.classList.add('bg-[#230C0F]');
        }


        // Click handler
        cards.forEach(card => {
            card.addEventListener('click', () => {
                // If clicking already-selected card, keep it selected (or optionally toggle off)
                if (selectedCard === card) {
                    // keep selection — if you prefer toggle-off behavior, call setSelected(null)
                    return;
                }
                setSelected(card);
            });

            // keyboard support: Enter/Space selects
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });
        });

        // Clear button
        clearBtn.addEventListener('click', () => {
            if (selectedCard) {
                selectedCard.classList.remove('border-[#34C759]');
                selectedCard.setAttribute('aria-pressed', 'false');
            }
            setSelected(null);
        });

        // Next button -> reveal form and populate
        nextBtn.addEventListener('click', () => {
            if (!selectedCard) return;
            const id = selectedCard.dataset.planId || '';
            const name = selectedCard.dataset.planName || '';
            const price = selectedCard.dataset.planPrice || '';

            formPlanId.value = id;
            formPlanName.value = name;
            formPlanPrice.value = price;

            // hide selection area if you wish or just reveal form
            checkoutWrap.classList.remove('hidden');
            // scroll to form for better UX
            checkoutWrap.scrollIntoView({ behavior: 'smooth', block: 'center' });
        });

        // Back button in form
        backBtn.addEventListener('click', () => {
            checkoutWrap.classList.add('hidden');
            // focus selected card for accessibility
            if (selectedCard) selectedCard.focus();
        });

        // init: no selection
        setSelected(null);
    });


</script>